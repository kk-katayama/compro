# Candy_DP

名前はEDPCのタイトルより  
分割数のちょい簡単版？？  
蟻本p.67

## EDPC M Candies

`dp[i][j] := i番目まで(0-indexed)の子供にj個のアメを分け与える場合の数`

#### 遷移
`dp[i+1][j] = sum_k=0^min(j,a[i]) dp[i][j-k]`

これではTLE

* `j<=a[i]`のとき  
    sum_k=0^j dp[i+1][j-k]  
    = dp[i][j] + dp[i][j-1] + ... + dp[i][0]  
    = dp[i][j] + sum_l=0^j-1 dp[i][j-1-l]  
    = dp[i][j] + dp[i+1][j-1]                    
* `j>a[i]`のとき  
    sum_k=0^a[i] dp[i+1][j-k]  
    = dp[i][j] + dp[i][j-1] + ... + dp[i][j-a[i]]  
    = dp[i][j] + sum_l=0^j-1 dp[i][j-1-l] - dp[i][j-1-a[i]]  
    = dp[i][j] + dp[i+1][j-1] - dp [i][j-1-a[i]]  


#### 遷移の行き先を絞ってから考える方法

dp[i][j] がどこから来そうかを考えると dp[i-1][j] dp[i][j-1]から来そうな気がする(こいつらから来ればforで回せる)  

dp[i-1][j] := i-1番目まででj個分け与える　→ i番目の子供には渡さないパターン  

dp[i][j-1] := i番目まででj-1個分け与えるパターン → i番目の子供にあと1個渡せばおk  
　　※※ただし、i番目の子供にはa[i]個までしか与えられないので、そのパターン(i番目の子供にa[i]個渡してしまったパターン)を引いてやる必要あり  
  そのパターンとは...dp[i-1][j-1-a[i]] := i-1番目まででj-1-a[i]個与えたパターン、つまりi番目の子供にa[i]個渡すことでdp[i][j-1]が実現される  
   
よって　dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i][j-1-a[i]]  
ここで j-1-a[i]が負になりそうなのでその辺は考えてやる。  

この考え方はかなり大事な気がする。足しすぎてあとで引く、包除原理っぽい？？わからん
